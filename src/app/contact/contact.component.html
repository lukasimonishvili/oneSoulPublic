<section class="os-contact">
  <div class="container os-contact__container flex-space-btw">
    <div class="os-contact__wrapper">
      <form
        [formGroup]="contactForm"
        (submit)="onContactSubmit()"
        class="os-contact__form flex-space-btw"
      >
        <div class="os-contact__form__wrapper">
          <label for="projectName" class="os-contact__label"
            >Project name</label
          >
          <input
            type="text"
            formControlName="projectName"
            class="os-contact__input"
            id="projectName"
            [ngClass]="{
              'os-contact__input__error':
                contactForm.controls.projectName.touched &&
                contactForm.controls.projectName.errors
            }"
          />
        </div>
        <div class="os-contact__tabs">
          <label class="os-contact__label">Services</label>
          <ul class="os-contact__tabs__list flex-center">
            <li
              class="os-contact__tabs__list__item"
              (click)="onTabSelect(services.includes(service), service)"
              *ngFor="let service of unselectedServices"
              [ngClass]="{
                'os-contact__tabs__list__item__selected': services.includes(
                  service
                )
              }"
            >
              {{ service }}
            </li>
          </ul>
          <div
            class="os-contact__tabs__error"
            [ngClass]="{ 'os-contact__tabs__error__visible': !services.length }"
          >
            * service selection is required
          </div>
        </div>
        <div class="os-contact__form__wrapper">
          <label for="companyName" class="os-contact__label"
            >Company Name</label
          >
          <input
            type="text"
            formControlName="companyName"
            class="os-contact__input"
            id="companyName"
            [ngClass]="{
              'os-contact__input__error':
                contactForm.controls.companyName.touched &&
                contactForm.controls.companyName.errors
            }"
          />
        </div>
        <div class="os-contact__form__wrapper">
          <label for="fullName" class="os-contact__label">FULL Name</label>
          <input
            type="text"
            formControlName="fullName"
            class="os-contact__input"
            id="fullName"
            [ngClass]="{
              'os-contact__input__error':
                contactForm.controls.fullName.touched &&
                contactForm.controls.fullName.errors
            }"
          />
        </div>
        <div class="os-contact__form__wrapper">
          <label for="phone" class="os-contact__label">Phone</label>
          <input
            type="number"
            formControlName="phone"
            class="os-contact__input"
            id="phone"
            [ngClass]="{
              'os-contact__input__error':
                contactForm.controls.phone.touched &&
                contactForm.controls.phone.errors
            }"
          />
        </div>
        <div class="os-contact__form__wrapper">
          <label for="email" class="os-contact__label">Your Email</label>
          <input
            type="text"
            formControlName="email"
            class="os-contact__input"
            id="email"
            [ngClass]="{
              'os-contact__input__error':
                contactForm.controls.email.touched &&
                contactForm.controls.email.errors
            }"
          />
        </div>
        <div class="os-contact__submit flex">
          <button
            [ngClass]="{ disabled: !services.length || contactForm.invalid }"
            type="submit"
          >
            Send
          </button>
        </div>
      </form>
      <div
        class="os-contact__slider relative"
        (swipeleft)="next()"
        (swiperight)="prev()"
      >
        <h5 class="os-contact__slider__title">EXPLORE TBILISI</h5>
        <!-- OLD SLIDER  -->

        <!-- <div class="os-contact__slider__wrapper absolute flex">
          <div
            class="os-contact__slider__slide"
            *ngFor="let slide of slider; let i = index"
            [ngClass]="{ visible: i == activeSlideIndex }"
          >
            <div
              class="img"
              [ngStyle]="{ 'background-image': 'url(' + slide.image + ')' }"
            ></div>
            <span> // {{ slide.text }}</span>
          </div>
          <div
            *ngIf="slider.length > 1"
            class="os-contact__slider__arrow absolute left"
            (click)="prev()"
          ></div>
          <div
            *ngIf="slider.length > 1"
            class="os-contact__slider__arrow absolute right"
            (click)="next()"
          ></div>
        </div> -->

        <!-- SWIPER SLIDER  -->

        <div class="os-contact__slider__wrapper absolute swiper-container">
          <div class="swiper-wrapper">
            <div class="swiper-slide" *ngFor="let slide of slider">
              <div
                class="os-contact__slider__slide__img"
                [ngStyle]="{ 'background-image': 'url(' + slide.image + ')' }"
              ></div>
              <span class="os-contact__slider__slide__span">
                // {{ slide.text }}</span
              >
            </div>
          </div>
          <div class="swiper-button-next swiper-button-white"></div>
          <div class="swiper-button-prev swiper-button-white"></div>
        </div>
      </div>
    </div>
    <div class="os-contact__wrapper">
      <h2 class="os-contact__title">{{ contact.title }}</h2>
      <p class="os-contact__text">
        {{ contact.text }}
      </p>

      <div class="os-contact__info flex-center">
        <div class="os-contact__info__wrapper address">
          <span class="os-contact__text bold">Address</span>
          <span class="os-contact__text"
            >{{ contact.address.address }}, <br />
            {{ contact.address.city }}, <br />
            {{ contact.address.country }}</span
          >
        </div>
        <div class="os-contact__info__wrapper phone">
          <span class="os-contact__text bold">Phone</span>
          <span class="os-contact__text"
            ><span (click)="makeCall(contact.phone.landline)"
              >{{ contact.phone.whatsApp }}
            </span>
            (whatsApp)<br />
            <span (click)="makeCall(contact.phone.mobile)"
              >{{ contact.phone.mobile }}
            </span>
            (mobile phone)
          </span>
        </div>
      </div>
      <img
        class="os-contact__cover"
        src="../../assets/img/contact-cover.png"
        alt=""
      />
    </div>
  </div>
</section>
